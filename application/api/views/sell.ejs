<!DOCTYPE html>
<html>
  <head>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel='stylesheet' href='/stylesheets/bootstrap-4.css' />
    <link rel='stylesheet' href='/stylesheets/home-page.css' />
    <link rel='stylesheet' href='/stylesheets/post-page.css' />

  </head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-dark gatormedia-nav">
            <div>
              <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
                <li class="navbar-brand">Gator Media</li>
                <li class="nav-item active">
                  <a class="nav-link home-btn" href="/">Home <span class="sr-only">(current)</span></a>
                </li>
                <li><form action="/" method="post">
                    <input type="search" class="search-container" name="term" ,placeholder="video name, audio name etc" />
                    <select name='category' class="category-dropdwn">
                        <option class="category-dropdwn">All categories</option>
                    </select>
                    <input type="submit" class="search-btn" value="Search" href="/search" />
                </form></li>
                <li><button class="sell-btn" onclick="window.location.href = '/users/sell'">Sell/Post</button></li>
                <li class="about-btn"><a href='/users/about' class=" nav-link">About</a></li>
                <li class="login-btn"><a href='/users/login' class=" nav-link">Login</a></li>
                <li class="register-btn"><a href='/users/register' class="nav-link">Register</a></li>
                <!-- <li><form action="/logout?_method=DELETE" method="POST">
                    <button class="logout-btn" type="submit" onclick="logoutMessage()"> Logout </button>
                </form></li> -->
              </ul>
              <script>
                function logoutMessage() {
                    alert("successful log out!");
                }
            </script>
            </div>
          </nav>

    <div class="container px-5" style="margin-top:40px">

          <div class="col-sm-8"></div>
          <h2 style="text-align:center">Sell/Post</h2>


          <div class="form-group pt-5">

              <form action="/upload" method="POST" enctype="multipart/form-data">
                  <div class="row">
                      <div class="col-sm-12">
                          <div class="preview-images" ></div>
                      </div>
                  </div>
                  <div class="form-group">
                      <input type="file" name="file" id="input-files" class="btn btn-light float-right">
                  </div>
                  <label >Media Name:</label><br>
                  <input class="form-control" type="text" name="title" placeholder="Enter title"><br>
                  <br>
                  <label for="description">Description:</label><br>
                  <textarea class="form-control" type="text" name="description" placeholder="Description of your post"></textarea>
                  <br>
                  <select class="form-control" name='category' class="category-dropdwn">
                      <option class="category-dropdwn">All categories</option>
                      <% for(var i=0; i<categories.length; i++) {%>
                          <option><%= categories[i].categoryName %></option>
                      <% } %>
                  </select>
                  <br>
                  <h3 >Free for all? : </h3><br>
                  <input type="radio" id="free" name="isFree" value="True">
                  <label >Free</label><br>
                  <input type="radio" id="notFree" name="isFree" value="False">
                  <label >Not Free</label><br>
                  <button type="submit" >Post</button>
              </form>
          </div>
    </div>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
	    $(document).ready(function() {
		    let imagesPreview = function(input, placeToInsertImagePreview) {
			    if (input.files) {
				    let filesAmount = input.files.length;
				    for (let i = 0; i < 1; i++) {
					    let reader = new FileReader();
					    reader.onload = function(event) {
						    $($.parseHTML("<img>"))
							    .attr("src", event.target.result)
                                .attr("width", 400)
                                .attr("height", 400)
							    .appendTo(placeToInsertImagePreview);
					    };
					    reader.readAsDataURL(input.files[0]);
				    }
			    }
		    };
		    $("#input-files").on("change", function() {
			    imagesPreview(this, "div.preview-images");
		    });
	    });
    </script>

    </body>
  </html>
